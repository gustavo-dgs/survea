(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30099b94"],{"0cb2":function(e,t,r){var n=r("e330"),s=r("7b0b"),u=Math.floor,o=n("".charAt),i=n("".replace),c=n("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,v,d){var y=r+e.length,f=n.length,h=l;return void 0!==v&&(v=s(v),h=a),i(d,h,(function(s,i){var a;switch(o(i,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,y);case"<":a=v[c(i,1,-1)];break;default:var l=+i;if(0===l)return s;if(l>f){var d=u(l/10);return 0===d?s:d<=f?void 0===n[d-1]?o(i,1):n[d-1]+o(i,1):s}a=n[l-1]}return void 0===a?"":a}))}},"14c3":function(e,t,r){var n=r("da84"),s=r("c65b"),u=r("825a"),o=r("1626"),i=r("c6b6"),c=r("9263"),a=n.TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var n=s(r,e,t);return null!==n&&u(n),n}if("RegExp"===i(e))return s(c,e,t);throw a("RegExp#exec called on incompatible receiver")}},"49d7":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),s={class:"editor"},u={class:"menu editor__menu"},o={class:"menu__upadate-status"},i={class:"editor__header"},c={class:"question-list"};function a(e,t,r,a,l,v){var d=Object(n["A"])("ion-icon"),y=Object(n["A"])("resizable-textarea"),f=Object(n["A"])("dropzone"),h=Object(n["A"])("QuestionCard");return Object(n["v"])(),Object(n["f"])("div",s,[Object(n["g"])("div",u,[Object(n["j"])(d,{class:"menu__chart icon icon--create",name:"bar-chart",onClick:v.goToResults},null,8,["onClick"]),Object(n["j"])(d,{class:"menu__preview icon icon--secundary",name:"eye",onClick:v.previewSurvey},null,8,["onClick"]),Object(n["g"])("h4",o,Object(n["D"])(l.updateStatus),1),Object(n["j"])(d,{class:"menu__copy icon icon--secundary",name:"copy"}),Object(n["j"])(d,{class:"menu__delete icon icon--delete",name:"trash",onClick:t[0]||(t[0]=function(e){return v.deleteSurvey()})})]),Object(n["g"])("header",i,[Object(n["j"])(y,{class:"editor__title",modelValue:a.surveyReact.survey.Title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.surveyReact.survey.Title=e}),placeholder:"Survey Title"},null,8,["modelValue"]),Object(n["j"])(y,{class:"editor__description",modelValue:a.surveyReact.survey.Description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.surveyReact.survey.Description=e}),placeholder:"Survey Description"},null,8,["modelValue"])]),Object(n["g"])("div",c,[(Object(n["v"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(this.surveyReact.survey.questions,(function(e,r){return Object(n["v"])(),Object(n["f"])(n["a"],{key:e.ID_Survey},[Object(n["M"])(Object(n["j"])(f,{class:"editor__dropzone",index:r,onOrderItem:t[3]||(t[3]=function(e){return v.orderQuestionCard(e)})},null,8,["index"]),[[n["J"],l.isDropzoneVisible]]),Object(n["j"])(h,{class:"question-list__question-card",question:e,onDeleteQuestionCard:t[4]||(t[4]=function(e){return v.deleteQuestionCard(e)}),onShowDropzones:t[5]||(t[5]=function(e){return l.isDropzoneVisible=!0}),onHideDropzones:t[6]||(t[6]=function(e){return l.isDropzoneVisible=!1}),onDraggedCard:t[7]||(t[7]=function(e){return l.draggedCard=e})},null,8,["question"])],64)})),128)),Object(n["M"])(Object(n["j"])(f,{class:"editor__dropzone",index:-1,onOrderItem:t[8]||(t[8]=function(e){return v.orderQuestionCard(e)})},null,512),[[n["J"],l.isDropzoneVisible]]),Object(n["g"])("button",{class:"editor__button button button--primary",onClick:t[9]||(t[9]=function(){return v.createNewQuestionCard&&v.createNewQuestionCard.apply(v,arguments)})},[Object(n["j"])(d,{class:"editor__icon icon",name:"add-outline"})])])])}r("b0c0"),r("ac1f"),r("5319"),r("4e82"),r("a630"),r("3ca3"),r("a434"),r("99af");var l=r("5e72"),v={setup:function(){var e=Object(n["x"])({survey:{ID_Survey:0,Title:"",Description:"",questions:[]}});return Object(n["w"])("surveyReact",e),{surveyReact:e}},data:function(){return{questionsId:0,isDropzoneVisible:!1,draggedCard:null,updateStatus:"All save",lastTimeOut:null,lastStatusTimeOut:null}},created:function(){var e=this,t=function(){e.$watchSurvey("surveyReact.survey.Title",e),e.$watchSurvey("surveyReact.survey.Description",e),e.$watchAll("surveyReact.survey",e)};"Create"===this.$route.name?(this.surveyReact.survey.ID_User=this.$route.params.ID_User,this.axios.post("survey",this.surveyReact.survey).then((function(r){e.surveyReact.survey.ID_Survey=r.data,t(),e.$router.replace("editor/".concat(r.data))})).catch((function(e){console.log(e)}))):this.axios.get("survey/".concat(this.$route.params.ID_Survey)).then((function(r){e.surveyReact.survey=e.$splitResulSet(r.data,[{thisId:"ID_Survey",son:"questions",columns:["ID_Survey","Title","Description","StartDate","FinalDate","ID_User"]},{thisId:"ID_Question",linkId:"ID_Survey",son:"answers",columns:["ID_Question","Question","Description","Type","qOrder"]},{thisId:"ID_Answer",linkId:"ID_Question",columns:["ID_Answer","Answer"]}])[0],e.surveyReact.survey.questions.sort((function(e,t){return e.qOrder-t.qOrder})),t()})).catch((function(e){console.log(e)}))},components:{QuestionCard:l["a"]},methods:{updateData:function(e){this.axios.put("survey/".concat(this.surveyReact.survey.ID_Survey),this.surveyReact.survey).then(e).catch((function(e){console.log(e)}))},createNewQuestionCard:function(){var e=1;if(this.surveyReact.survey.questions.length>0){var t=Array.from(this.surveyReact.survey.questions);t.sort((function(e,t){return t.ID_Question-e.ID_Question})),e=t[0].ID_Question+1}var r={ID_Question:e,Type:"select",Question:"",qOrder:this.surveyReact.survey.questions.length,Description:"",answers:[]};this.surveyReact.survey.questions.push(r),this.axios.post("survey/question",{ID_Question:e,Type:r.Type,Question:r.Question,qOrder:this.surveyReact.survey.questions.length,Description:r.Description,ID_Survey:this.surveyReact.survey.ID_Survey}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},deleteQuestionCard:function(e){this.surveyReact.survey.questions.splice(this.surveyReact.survey.questions.indexOf(e),1),this.axios.delete("survey/question/".concat(e.ID_Question),{data:{ID_Survey:this.surveyReact.survey.ID_Survey}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},orderQuestionCard:function(e){if(null!==this.draggedCard){var t=this.surveyReact.survey.questions.indexOf(this.draggedCard);-1===e&&(e=this.surveyReact.survey.questions.length),e<t&&t++,this.surveyReact.survey.questions.splice(e,0,this.draggedCard),this.surveyReact.survey.questions.splice(t,1),this.draggedCard=null;for(var r=0;r<this.surveyReact.survey.questions.length;r++)this.surveyReact.survey.questions[r].qOrder=r}},previewSurvey:function(){this.$router.push("/user/".concat(this.$route.params.ID_User,"/survey/").concat(this.$route.params.ID_Survey))},deleteSurvey:function(){var e=this;this.axios.delete("survey/".concat(this.surveyReact.survey.ID_Survey)).then((function(t){console.log(t),e.$router.push("/")})).catch((function(e){console.log(e)}))},goToResults:function(){this.$router.push("/user/".concat(this.$route.params.ID_User,"/results/").concat(this.$route.params.ID_Survey))}}},d=(r("a947"),r("d959")),y=r.n(d);const f=y()(v,[["render",a]]);t["default"]=f},5319:function(e,t,r){"use strict";var n=r("2ba4"),s=r("c65b"),u=r("e330"),o=r("d784"),i=r("d039"),c=r("825a"),a=r("1626"),l=r("5926"),v=r("50c4"),d=r("577e"),y=r("1d80"),f=r("8aa5"),h=r("dc4a"),p=r("0cb2"),b=r("14c3"),_=r("b622"),g=_("replace"),D=Math.max,O=Math.min,m=u([].concat),I=u([].push),j=u("".indexOf),R=u("".slice),x=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),q=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),w=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,r){var u=q?"$":"$0";return[function(e,r){var n=y(this),u=void 0==e?void 0:h(e,g);return u?s(u,e,n,r):s(t,d(n),e,r)},function(e,s){var o=c(this),i=d(e);if("string"==typeof s&&-1===j(s,u)&&-1===j(s,"$<")){var y=r(t,o,i,s);if(y.done)return y.value}var h=a(s);h||(s=d(s));var _=o.global;if(_){var g=o.unicode;o.lastIndex=0}var S=[];while(1){var q=b(o,i);if(null===q)break;if(I(S,q),!_)break;var w=d(q[0]);""===w&&(o.lastIndex=f(i,v(o.lastIndex),g))}for(var $="",C=0,Q=0;Q<S.length;Q++){q=S[Q];for(var T=d(q[0]),k=D(O(l(q.index),i.length),0),A=[],z=1;z<q.length;z++)I(A,x(q[z]));var V=q.groups;if(h){var U=m([T],A,k,i);void 0!==V&&I(U,V);var M=d(n(s,void 0,U))}else M=p(T,i,k,A,V,s);k>=C&&($+=R(i,C,k)+M,C=k+T.length)}return $+R(i,C)}]}),!w||!S||q)},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"944d":function(e,t,r){},"99af":function(e,t,r){"use strict";var n=r("23e7"),s=r("da84"),u=r("d039"),o=r("e8b5"),i=r("861d"),c=r("7b0b"),a=r("07fa"),l=r("8418"),v=r("65f0"),d=r("1dde"),y=r("b622"),f=r("2d00"),h=y("isConcatSpreadable"),p=9007199254740991,b="Maximum allowed index exceeded",_=s.TypeError,g=f>=51||!u((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),D=d("concat"),O=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)},m=!g||!D;n({target:"Array",proto:!0,forced:m},{concat:function(e){var t,r,n,s,u,o=c(this),i=v(o,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(u=-1===t?o:arguments[t],O(u)){if(s=a(u),d+s>p)throw _(b);for(r=0;r<s;r++,d++)r in u&&l(i,d,u[r])}else{if(d>=p)throw _(b);l(i,d++,u)}return i.length=d,i}})},a947:function(e,t,r){"use strict";r("944d")},d784:function(e,t,r){"use strict";r("ac1f");var n=r("e330"),s=r("6eeb"),u=r("9263"),o=r("d039"),i=r("b622"),c=r("9112"),a=i("species"),l=RegExp.prototype;e.exports=function(e,t,r,v){var d=i(e),y=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=y&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[a]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!y||!f||r){var h=n(/./[d]),p=t(d,""[e],(function(e,t,r,s,o){var i=n(e),c=t.exec;return c===u||c===l.exec?y&&!o?{done:!0,value:h(t,r,s)}:{done:!0,value:i(r,t,s)}:{done:!1}}));s(String.prototype,e,p[0]),s(l,d,p[1])}v&&c(l[d],"sham",!0)}}}]);
//# sourceMappingURL=chunk-30099b94.2c60d058.js.map